---
# tasks file for Deploy
    - name: Update APT package index
      apt:
        update_cache: yes
 
    - name: Install Docker
      apt:
        name: docker.io
        state: present

    - name: Install Ansible
      apt:
        name: ansible
        state: present
      become: true

    - name: Log into DockerHub
      docker_login:
       username: "{{ docker_username }}"
       password: "{{ docker_password }}"

    - name: Tag and push to docker hub
      community.docker.docker_image:
       name: webappiubh
      repository: "{{ docker_username }}/weave:latest"
      push: true
    
     